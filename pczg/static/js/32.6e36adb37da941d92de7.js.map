{"version":3,"sources":["webpack:///./src/views/layout/mixin/ResizeHandler.js"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__store__","__webpack_require__","body","document","beforeMount","window","addEventListener","this","resizeHandler","mounted","isMobile","store","dispatch","withoutAnimation","methods","getBoundingClientRect","width","hidden"],"mappings":"uDAAAA,OAAAC,eAAAC,EAAA,cAAAC,OAAA,QAAAC,EAAAC,EAAA,QAEQC,EAASC,SAATD,KAIOJ,EAAA,SAUbM,YAVa,WAWXC,OAAOC,iBAAiB,SAAUC,KAAKC,gBAEzCC,QAba,WAcMF,KAAKG,aAEpBC,IAAMC,SAAS,eAAgB,UAC/BD,IAAMC,SAAS,gBACbC,kBAAkB,MAIxBC,SACEJ,SADO,WAGL,OADaR,EAAKa,wBACNC,MA3BJ,EADA,MA8BVR,cALO,WAML,IAAKL,SAASc,OAAQ,CACpB,IAAMP,EAAWH,KAAKG,WACtBC,IAAMC,SAAS,eAAgBF,EAAW,SAAW,WACjDA,GACFC,IAAMC,SAAS,gBACbC,kBAAkB","file":"static/js/32.6e36adb37da941d92de7.js","sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document // 解构赋值\r\nconst WIDTH = 1024\r\nconst RATIO = 3 // 比率\r\n\r\nexport default {\r\n  // 此方法好像没什么用\r\n  // watch: {\r\n  //   $route(route) {\r\n  //     console.log(`layout的$route，打印this.device：${this.device}`)\r\n  //     if (this.device === 'mobile' && this.sidebar.opened) {\r\n  //       store.dispatch('CloseSideBar', { withoutAnimation: false })\r\n  //     }\r\n  //   }\r\n  // },\r\n  beforeMount () {\r\n    window.addEventListener('resize', this.resizeHandler)\r\n  },\r\n  mounted () {\r\n    const isMobile = this.isMobile()\r\n    if (isMobile) {\r\n      store.dispatch('ToggleDevice', 'mobile')\r\n      store.dispatch('CloseSideBar', {\r\n        withoutAnimation: true\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - RATIO < WIDTH\r\n    },\r\n    resizeHandler () {\r\n      if (!document.hidden) {\r\n        const isMobile = this.isMobile()\r\n        store.dispatch('ToggleDevice', isMobile ? 'mobile' : 'desktop')\r\n        if (isMobile) {\r\n          store.dispatch('CloseSideBar', {\r\n            withoutAnimation: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/layout/mixin/ResizeHandler.js"],"sourceRoot":""}