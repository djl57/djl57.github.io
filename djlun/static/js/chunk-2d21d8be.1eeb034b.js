(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d8be"],{d282:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("h2",[e._v("koa中如何使用ejs模板引擎")]),n("p",[e._v("（1）安装koa-views：npm i --save koa-views")]),n("p",[e._v("（2）安装ejs：npm i ejs --save")]),n("p",[e._v("（3）引入koa-view【var views = require('koa-views')】，\n    并配置第三方中间件【app.use(views(__dirname（视图位置）, { extension: 'ejs' }))】")]),n("p",[e._v("（4）让koa来应用ejs模板引擎，然后就可以使用ejs来渲染数据。【await ctx.render('index')】")]),n("h2",[e._v("ejs绑定数据")]),n("p",[e._v("await ctx.render('index', { title })，再在html中使用<%=title%>来渲染数据")]),n("h2",[e._v("ejs绑定带html的数据")]),n("p",[e._v("<%-title%>")]),n("h2",[e._v("ejs循环数据")]),n("pre",[n("code",[e._v(e._s(e.ejsFor))])]),n("h2",[e._v("ejs if 语句")]),n("pre",[n("code",[e._v(e._s(e.ejsif))])]),n("h2",[e._v("ejs引入外部文件（html文件等）")]),n("pre",[n("code",[e._v(e._s(e.ejsOther))])]),n("h2",[e._v("需要在每一个路由的render里面都要渲染一个公共的数据")]),n("p",[e._v("比如用户信息要传到每一个路由里面")]),n("p",[e._v("公共的数据可以放在ctx.state = { 公共数据 }【这个代码放在中间件里边】里面，这样的话再模板的任何地方都可以使用")]),n("pre",[n("code",[e._v(e._s(e.ejspub))])]),n("h2",[e._v("问题（报错）")]),n("p",[e._v("（1）ctx.render is not a function")]),e._m(0)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("解决方案："),n("a",{attrs:{href:"https://blog.csdn.net/wopelo/article/details/79986481"}},[e._v("https://blog.csdn.net/wopelo/article/details/79986481")])])}],a={name:"koajsejs",data:function(){return{createTime:"2019-03-13 15:36:00",ejsFor:"<%for(var i=0;i<list.length;i++){%>\n  <li><%=list[i]%></li>\n<%}%>",ejsif:"<%if(num>10){%>\n  <p>传过来的num大于10，为<%=num%></p>\n<%}else{%>\n  <p>传过来的num不大于10，为<%=num%></p>\n<%}%>",ejsOther:"<%include public/header.html%>",ejspub:"app.use(async (ctx, next) => {\n  ctx.state = {\n    username: '张三',\n    age: '18'\n  }\n  await next()\n})"}},components:{},mounted:function(){},computed:{},methods:{}},r=a,p=n("2877"),o=Object(p["a"])(r,s,i,!1,null,"004e53f4",null);t["default"]=o.exports}}]);